{% load tailwind_tags %}
{% load static %}

{% with request.resolver_match.url_name as url_name %}
<nav class="fixed top-0 z-50 w-full bg-whiteColor bg-opacity-80 backdrop-blur-xl border-b border-secondaryColor">
    <div class="px-3 py-3 lg:px-5 lg:pl-3">
        <div class="flex items-center justify-between">
            <div class="flex items-center justify-start rtl:justify-end">
                <button data-drawer-target="logo-sidebar" data-drawer-toggle="logo-sidebar" aria-controls="logo-sidebar"
                    type="button"
                    class="inline-flex items-center p-2 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
                    <span class="sr-only">Open sidebar</span>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"
                        class="w-6 h-6">
                        <path d="M10 5L20 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M4 12L20 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M4 19L14 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                </button>
                <a href="{% url 'core:dashboard' %}" class="flex ms-2 md:me-24">
                    <img src="{% static 'core/images/attendy-text.svg' %}" class="h-8 me-3" alt="Attendy Logo" />
                </a>
            </div>
            <div class="flex items-center">
                <div class="flex items-center ms-3">
                    <div>
                        <button type="button"
                            class="flex items-center gap-1 px-2.5 py-1 rounded-xl hover:bg-secondaryColor/10 hover:shadow focus:bg-secondaryColor/10 focus:ring-1 focus:ring-secondaryColor transition-all duration-300 ease-linear"
                            aria-expanded="false" data-dropdown-toggle="dropdown-user">
                            <span class="sr-only">Open user menu</span>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"
                                fill="none">
                                <path
                                    d="M8.5 18C10.3135 16.0463 13.667 15.9543 15.5 18M13.9406 12C13.9406 13.1046 13.0688 14 11.9934 14C10.918 14 10.0462 13.1046 10.0462 12C10.0462 10.8954 10.918 10 11.9934 10C13.0688 10 13.9406 10.8954 13.9406 12Z"
                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                <path
                                    d="M9.5 4.00195C6.85561 4.01181 5.44101 4.10427 4.52513 4.97195C3.5 5.94312 3.5 7.5062 3.5 10.6324V15.3692C3.5 18.4954 3.5 20.0584 4.52513 21.0296C5.55025 22.0008 7.20017 22.0008 10.5 22.0008H13.5C16.7998 22.0008 18.4497 22.0008 19.4749 21.0296C20.5 20.0584 20.5 18.4954 20.5 15.3692V10.6324C20.5 7.5062 20.5 5.94312 19.4749 4.97195C18.559 4.10427 17.1444 4.01181 14.5 4.00195"
                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round" />
                                <path
                                    d="M9.77216 3.63163C9.8681 3.21682 9.91608 3.00942 10.0082 2.84004C10.2229 2.44546 10.6188 2.15548 11.0914 2.0467C11.2943 2 11.5296 2 12 2C12.4704 2 12.7057 2 12.9086 2.0467C13.3812 2.15548 13.7771 2.44545 13.9918 2.84004C14.0839 3.00942 14.1319 3.21682 14.2278 3.63163L14.3111 3.99176C14.4813 4.72744 14.5664 5.09528 14.438 5.37824C14.3549 5.5615 14.2132 5.71842 14.031 5.82911C13.7496 6 13.3324 6 12.4981 6H11.5019C10.6676 6 10.2504 6 9.96901 5.82911C9.78677 5.71842 9.6451 5.5615 9.56197 5.37824C9.43361 5.09528 9.51869 4.72744 9.68886 3.99176L9.77216 3.63163Z"
                                    stroke="currentColor" stroke-width="1.5" />
                            </svg>
                            {{ request.user.username }}
                        </button>
                    </div>
                    <div class="z-50 hidden overflow-hidden my-4 text-base list-none bg-whiteColor divide-y divide-secondaryColor/10 rounded-xl shadow-lg"
                        id="dropdown-user">
                        <div class="px-4 py-3" role="none">
                            <p class="text-sm" role="none">
                                {{ request.user.get_full_name }}
                            </p>
                            <p class="text-sm font-medium truncate text-gray-500" role="none">
                                {{ request.user.email }}
                            </p>
                        </div>
                        <ul class="py-1" role="none">
                            <li>
                                <a href="{% url 'core:home' %}"
                                    class="block px-4 py-2 text-sm hover:bg-secondaryColor/10" role="menuitem">
                                    Back to home
                                </a>
                            </li>
                            <li>
                                <form action="{% url 'account_logout' %}" method="post" class="">
                                    {% csrf_token %}
                                    <button type="submit"
                                        class="w-full text-left px-4 py-2 text-sm hover:bg-secondaryColor/10"
                                        role="menuitem">
                                        Sign out
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</nav>

<aside id="logo-sidebar"
    class="fixed top-0 left-0 z-40 w-64 overflow-hidden h-screen pt-20 transition-transform -translate-x-full bg-whiteColor border-r border-secondaryColor md:translate-x-0"
    aria-label="Sidebar">
    <img src="{% static 'core/images/logo-shapes-primary.svg' %}" alt=""
        class="absolute bottom-0 lg:-bottom-10 w-full scale-150">
    <div class="h-full px-3 pb-4 overflow-y-auto bg-whiteColor">
        <ul class="space-y-4 font-medium">
            <li>
                <a href="{% if url_name == 'dashboard' %} # {% else %} {% url 'core:dashboard' %} {% endif %}"
                    class="flex items-center p-2 rounded-xl transition-all duration-300 ease-linear hover:bg-primaryColor/10 group {% if url_name == 'dashboard' %} bg-secondaryColor/10 hover:bg-secondaryColor/20 shadow-sm border border-secondaryColor {% endif %}">
                    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M7 22C9.20914 22 11 20.2091 11 18C11 15.7909 9.20914 14 7 14C4.79086 14 3 15.7909 3 18C3 20.2091 4.79086 22 7 22Z"
                            stroke="#0C0C0C" stroke-width="3" stroke-linejoin="round" />
                        <path
                            d="M18 10C20.2091 10 22 8.20914 22 6C22 3.79086 20.2091 2 18 2C15.7909 2 14 3.79086 14 6C14 8.20914 15.7909 10 18 10Z"
                            stroke="#0C0C0C" stroke-width="3" stroke-linejoin="round" />
                        <path
                            d="M6.5 10C8.70914 10 10.5 8.20914 10.5 6C10.5 3.79086 8.70914 2 6.5 2C4.29086 2 2.5 3.79086 2.5 6C2.5 8.20914 4.29086 10 6.5 10Z"
                            fill="#0C0C0C" stroke="#0C0C0C" stroke-width="3" stroke-linejoin="round" />
                        <path d="M21.9999 14.5L15 21.5M15.0001 14.5L22 21.5" stroke="#0C0C0C" stroke-width="3"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg>

                    <span class="flex-1 ms-3 whitespace-nowrap">Attendances</span>
                    {% if course_attendance_count > 0 %}
                    <span
                        class="inline-flex items-center justify-center w-auto h-3 px-2 py-3 ms-3 text-sm font-bold text-secondaryColor bg-secondaryColor/10 rounded-lg">
                        {% if course_attendance_count > 999 %}
                        999+
                        {% else %}
                        {{ course_attendance_count }}
                        {% endif %}
                    </span>
                    {% endif %}
                </a>
            </li>
            <li>
                <a href="{% if url_name == 'records' %} # {% else %} {% url 'core:records' %} {% endif %}"
                    class="flex items-center p-2 rounded-xl transition-all duration-300 ease-linear hover:bg-primaryColor/10 group {% if url_name == 'records' or url_name == 'record_detail' %} bg-secondaryColor/10 hover:bg-secondaryColor/20 shadow-sm border border-secondaryColor {% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"
                        class="">
                        <path
                            d="M16.6127 16.0846C13.9796 17.5677 12.4773 20.6409 12 21.5V8C12.4145 7.25396 13.602 5.11646 15.6317 3.66368C16.4868 3.05167 16.9143 2.74566 17.4572 3.02468C18 3.30371 18 3.91963 18 5.15146V13.9914C18 14.6568 18 14.9895 17.8634 15.2233C17.7267 15.4571 17.3554 15.6663 16.6127 16.0846L16.6127 16.0846Z"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M12 7.80556C11.3131 7.08403 9.32175 5.3704 5.98056 4.76958C4.2879 4.4652 3.44157 4.31301 2.72078 4.89633C2 5.47965 2 6.42688 2 8.32133V15.1297C2 16.8619 2 17.728 2.4626 18.2687C2.9252 18.8095 3.94365 18.9926 5.98056 19.3589C7.79633 19.6854 9.21344 20.2057 10.2392 20.7285C11.2484 21.2428 11.753 21.5 12 21.5C12.247 21.5 12.7516 21.2428 13.7608 20.7285C14.7866 20.2057 16.2037 19.6854 18.0194 19.3589C20.0564 18.9926 21.0748 18.8095 21.5374 18.2687C22 17.728 22 16.8619 22 15.1297V8.32133C22 6.42688 22 5.47965 21.2792 4.89633C20.5584 4.31301 19 4.76958 18 5.5"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    <span class="flex-1 ms-3 whitespace-nowrap">Teaching Records</span>
                    {% if teaching_records.count > 0 %}
                    <span
                        class="inline-flex items-center justify-center w-auto h-3 px-2 py-3 ms-3 text-sm font-bold text-secondaryColor bg-secondaryColor/10 rounded-lg">
                        {% if teaching_records.count > 999 %}
                        999+
                        {% else %}
                        {{ teaching_records.count }}
                        {% endif %}
                    </span>
                    {% endif %}
                </a>
            </li>
            <hr class="border-secondaryColor/20 w-full">
            <li>
                <a href="{% if url_name == 'courses' %} # {% else %} {% url 'core:courses' %} {% endif %}"
                    class="flex items-center p-2 rounded-xl transition-all duration-300 ease-linear hover:bg-primaryColor/10 group {% if url_name == 'courses' or url_name == 'course_detail' or url_name == 'course_add' or url_name == 'course_update' %} bg-secondaryColor/10 hover:bg-secondaryColor/20 shadow-sm border border-secondaryColor {% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"
                        class="">
                        <path
                            d="M14.5 5L12.5 5C9.67157 5 8.25736 5 7.37868 5.87868C6.5 6.75736 6.5 8.17157 6.5 11L6.5 16C6.5 18.8284 6.5 20.2426 7.37868 21.1213C8.25736 22 9.67157 22 12.5 22H13.8431C14.6606 22 15.0694 22 15.4369 21.8478C15.8045 21.6955 16.0935 21.4065 16.6716 20.8284L19.3284 18.1716C19.9065 17.5935 20.1955 17.3045 20.3478 16.9369C20.5 16.5694 20.5 16.1606 20.5 15.3431V11C20.5 8.17157 20.5 6.75736 19.6213 5.87868C18.7426 5 17.3284 5 14.5 5Z"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M15 21.5L15 20.5C15 18.6144 15 17.6716 15.5858 17.0858C16.1716 16.5 17.1144 16.5 19 16.5L20 16.5"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M6.5 19C4.84315 19 3.5 17.6569 3.5 16L3.5 8C3.5 5.17157 3.5 3.75736 4.37868 2.87868C5.25736 2 6.67157 2 9.5 2L14.5004 2C16.1572 2.00001 17.5004 3.34319 17.5004 5.00003"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M10.0011 13L14.0011 13M10.0011 9L17.0011 9" stroke="currentColor" stroke-width="1.5"
                            stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                    <span class="flex-1 ms-3 whitespace-nowrap">Courses</span>
                    {% if courses.count > 0 %}
                    <span
                        class="inline-flex items-center justify-center w-auto h-3 px-2 py-3 ms-3 text-sm font-bold text-secondaryColor bg-secondaryColor/10 rounded-lg">
                        {% if courses.count > 999 %}
                        999+
                        {% else %}
                        {{ courses.count }}
                        {% endif %}
                    </span>
                    {% endif %}
                </a>
            </li>
            <li>
                <a href="{% if url_name == 'students' %} # {% else %} {% url 'core:students' %} {% endif %}"
                    class="flex items-center p-2 rounded-xl transition-all duration-300 ease-linear hover:bg-primaryColor/10 group {% if url_name == 'students' or url_name == 'student_detail' or url_name == 'student_add' or url_name == 'student_update' %} bg-secondaryColor/10 hover:bg-secondaryColor/20 shadow-sm border border-secondaryColor {% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none"
                        class="">
                        <path
                            d="M20.7739 18C21.5232 18 22.1192 17.5285 22.6543 16.8691C23.7498 15.5194 21.9512 14.4408 21.2652 13.9126C20.5679 13.3756 19.7893 13.0714 18.9999 13M17.9999 11C19.3806 11 20.4999 9.88071 20.4999 8.5C20.4999 7.11929 19.3806 6 17.9999 6"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <path
                            d="M3.2259 18C2.47659 18 1.88061 17.5285 1.34548 16.8691C0.250028 15.5194 2.04861 14.4408 2.73458 13.9126C3.43191 13.3756 4.21052 13.0714 4.99994 13M5.49994 11C4.11923 11 2.99994 9.88071 2.99994 8.5C2.99994 7.11929 4.11923 6 5.49994 6"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <path
                            d="M8.08368 15.1112C7.0619 15.743 4.38286 17.0331 6.01458 18.6474C6.81166 19.436 7.6994 20 8.8155 20H15.1843C16.3004 20 17.1881 19.436 17.9852 18.6474C19.6169 17.0331 16.9379 15.743 15.9161 15.1112C13.52 13.6296 10.4797 13.6296 8.08368 15.1112Z"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M15.4999 7.5C15.4999 9.433 13.9329 11 11.9999 11C10.0669 11 8.49988 9.433 8.49988 7.5C8.49988 5.567 10.0669 4 11.9999 4C13.9329 4 15.4999 5.567 15.4999 7.5Z"
                            stroke="currentColor" stroke-width="1.5" />
                    </svg>
                    <span class="flex-1 ms-3 whitespace-nowrap">Students</span>
                    {% if students.count > 0 %}
                    <span
                        class="inline-flex items-center justify-center w-auto h-3 px-2 py-3 ms-3 text-sm font-bold text-secondaryColor bg-secondaryColor/10 rounded-lg">
                        {% if students.count > 999 %}
                        999+
                        {% else %}
                        {{ students.count }}
                        {% endif %}
                    </span>
                    {% endif %}
                </a>
            </li>
            <li>
                <a href="{% if url_name == 'lecturers' %} # {% else %} {% url 'core:lecturers' %} {% endif %}"
                    class="flex items-center p-2 rounded-xl transition-all duration-300 ease-linear hover:bg-primaryColor/10 group {% if url_name == 'lecturers' or url_name == 'lecturer_detail' or url_name == 'lecturer_add' or url_name == 'lecturer_update' %} bg-secondaryColor/10 hover:bg-secondaryColor/20 shadow-sm border border-secondaryColor {% endif %}">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none">
                        <path d="M13 15C10.7083 21 4.29167 15 2 21" stroke="currentColor" stroke-width="1.5"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <path
                            d="M15.5 15H17.0013C19.3583 15 20.5368 15 21.2691 14.2678C22.0013 13.5355 22.0013 12.357 22.0013 10V8C22.0013 5.64298 22.0013 4.46447 21.2691 3.73223C20.5368 3 19.3583 3 17.0013 3H13.0013C10.6443 3 9.46576 3 8.73353 3.73223C8.11312 4.35264 8.01838 5.29344 8.00391 7"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <circle cx="7.5" cy="12.5" r="2.5" stroke="currentColor" stroke-width="1.5"
                            stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M12 7H18M18 11H15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" />
                    </svg>
                    <span class="flex-1 ms-3 whitespace-nowrap">Lecturers</span>
                    {% if lecturers.count > 0 %}
                    <span
                        class="inline-flex items-center justify-center w-auto h-3 px-2 py-3 ms-3 text-sm font-bold text-secondaryColor bg-secondaryColor/10 rounded-lg">
                        {% if lecturers.count > 999 %}
                        999+
                        {% else %}
                        {{ lecturers.count }}
                        {% endif %}
                    </span>
                    {% endif %}
                </a>
            </li>
            <hr class="border-secondaryColor/20 w-full">
            <li>
                <a href=""
                    class="flex items-center p-2 rounded-xl transition-all duration-300 ease-linear text-whiteColor bg-secondaryColor hover:bg-orange-600 group">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none">
                        <path
                            d="M8.99396 2C6.19709 2.06395 4.56347 2.33111 3.44729 3.44729C2.33111 4.56347 2.06395 6.19709 2 8.99396M15.006 2C17.8029 2.06395 19.4365 2.33111 20.5527 3.44729C21.6689 4.56347 21.9361 6.19709 22 8.99396M15.006 22C17.8029 21.9361 19.4365 21.6689 20.5527 20.5527C21.6689 19.4365 21.9361 17.8029 22 15.006M8.99396 22C6.19709 21.9361 4.56347 21.6689 3.44729 20.5527C2.33111 19.4365 2.06395 17.8029 2 15.006"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                        <path d="M16.9998 7H17.0088" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                            stroke-linejoin="round" />
                        <path d="M13 6V9C13 10.8856 13 11.8284 12.4142 12.4142C11.8284 13 10.8856 13 9 13H6"
                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <path
                            d="M6.29289 6.29289C6 6.58579 6 7.05719 6 8C6 8.94281 6 9.41421 6.29289 9.70711M6.29289 6.29289C6.58579 6 7.05719 6 8 6C8.94281 6 9.41421 6 9.70711 6.29289M6.29289 6.29289C6.29289 6.29289 6.29289 6.29289 6.29289 6.29289ZM6.29289 9.70711C6.58579 10 7.05719 10 8 10C8.94281 10 9.41421 10 9.70711 9.70711M6.29289 9.70711C6.29289 9.70711 6.29289 9.70711 6.29289 9.70711ZM9.70711 9.70711C10 9.41421 10 8.94281 10 8C10 7.05719 10 6.58579 9.70711 6.29289M9.70711 9.70711C9.70711 9.70711 9.70711 9.70711 9.70711 9.70711ZM9.70711 6.29289C9.70711 6.29289 9.70711 6.29289 9.70711 6.29289Z"
                            stroke="currentColor" stroke-width="1.5" />
                        <path
                            d="M17 15C17.4714 15 17.7071 15 17.8536 15.1464C18 15.2929 18 15.5286 18 16V17C18 17.4714 18 17.7071 17.8536 17.8536C17.7071 18 17.4714 18 17 18H15C14.5286 18 14.2929 18 14.1464 17.8536C14 17.7071 14 17.4714 14 17L14 16C14 15.5286 14 15.2929 14.1464 15.1464C14.2929 15 14.5286 15 15 15L17 15Z"
                            stroke="currentColor" stroke-width="1.5" />
                        <path d="M6 18H11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        <path d="M17 10L17 12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                    </svg>
                    <span class="flex-1 ms-3 whitespace-nowrap">Scan attendee</span>
                </a>
            </li>
        </ul>
    </div>
</aside>
{% endwith %}