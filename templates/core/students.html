{% extends 'core/base_app.html' %}
{% load static %}
{% load tailwind_tags %}

{# Title of the page #}
{% block title %}Students{% endblock %}

{# Body styles #}
{% block body_styles %}
{% endblock body_styles %}

{# Header of the page #}
{% block header %}
{% include "components/header_app.html" %}
{% endblock header %}

{# Body of the page #}
{% block body %}
<div class="relative p-4 sm:ml-64">
    <div class="mt-14">
        <div class="flex flex-col gap-4 items-center justify-between rounded-lg mt-14">
            <div class="flex flex-col items-start gap-2 w-full md:flex-row md:items-center md:justify-between">
                <h2 class="text-2xl">Registered students</h2>
                <div class="relative w-full lg:w-1/3">
                    <div class="absolute inset-y-0 start-0 flex items-center ps-2.5 pointer-events-none">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none">
                            <path d="M17.5 17.5L22 22" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                stroke-linejoin="round" />
                            <path
                                d="M20 11C20 6.02944 15.9706 2 11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C15.9706 20 20 15.9706 20 11Z"
                                stroke="currentColor" stroke-width="1.5" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <input type="search" name="search_students" id="search_courses" placeholder="search for a student..."
                        class="w-full rounded-2xl block ps-10 p-2.5 bg-whiteColor border-darkColor placeholder-darkColor/50 focus:ring-primaryColor focus:border-primaryColor transition-all duration-300 ease-in-out">
                </div>
            </div>

            <div class="w-full flex flex-col gap-2">
                <div class="relative right-0">
                    <ul class="relative flex flex-wrap p-1 list-none rounded-xl bg-blue-gray-50/60" data-tabs="tabs"
                        role="list">
                        <li class="z-30 w-auto px-2 rounded-xl text-center">
                            <a class="z-30 flex items-center justify-center w-full px-0 py-1 mb-0 transition-all ease-in-out border-0 rounded-lg cursor-pointer bg-inherit"
                                data-tab-target="" active="" role="tab" aria-selected="true" aria-controls="app">
                                <span class="ml-1 flex items-center gap-2">
                                    Everyone
                                    <span class="text-sm bg-darkColor/10 px-2.5 py-0.5 rounded-xl"> {{ students.count }} </span> 
                                </span>
                            </a>
                        </li>
                        <li class="z-30 w-auto px-2 rounded-xl text-center">
                            <a class="z-30 flex items-center justify-center w-full px-0 py-1 mb-0 transition-all ease-in-out border-0 rounded-lg cursor-pointer bg-inherit"
                                data-tab-target="" role="tab" aria-selected="false" aria-controls="message">
                                <span class="ml-1 flex items-center gap-2">
                                    Délégués
                                    <span class="text-sm bg-darkColor/10 px-2.5 py-0.5 rounded-xl"> {{ delegates.count }} </span> 
                                </span>
                            </a>
                        </li>
                    </ul>

                    <div data-tab-content="" class="p-2">
                        <div class="block opacity-100" id="app" role="tabpanel">
                            <ul class="space-y-2">
                                {% for student in students %}
                                <li>
                                    <div class="flex items-center justify-between px-4 py-2 transition-all duration-300 ease-linear hover:bg-secondaryColor/5">
                                        <div class="flex items-center gap-4">
                                            <span> {{ forloop.counter }}. </span>
                                            <div class="flex flex-col gap-0.5">
                                                {{ student.name }}
                                                <small class="text-sm text-darkColor/50">{{ student.email }}</small>
                                            </div>
                                        </div>
                                        {% if student.is_delegate %}
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none" class="text-secondaryColor">
                                                <path d="M13.7276 3.44418L15.4874 6.99288C15.7274 7.48687 16.3673 7.9607 16.9073 8.05143L20.0969 8.58575C22.1367 8.92853 22.6167 10.4206 21.1468 11.8925L18.6671 14.3927C18.2471 14.8161 18.0172 15.6327 18.1471 16.2175L18.8571 19.3125C19.417 21.7623 18.1271 22.71 15.9774 21.4296L12.9877 19.6452C12.4478 19.3226 11.5579 19.3226 11.0079 19.6452L8.01827 21.4296C5.8785 22.71 4.57865 21.7522 5.13859 19.3125L5.84851 16.2175C5.97849 15.6327 5.74852 14.8161 5.32856 14.3927L2.84884 11.8925C1.389 10.4206 1.85895 8.92853 3.89872 8.58575L7.08837 8.05143C7.61831 7.9607 8.25824 7.48687 8.49821 6.99288L10.258 3.44418C11.2179 1.51861 12.7777 1.51861 13.7276 3.44418Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                                            </svg>
                                        {% endif %}
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>

                        <div class="hidden opacity-0" id="message" role="tabpanel">
                            <ul class="space-y-2">
                                {% for student in delegates %}
                                <li>
                                    <div class="flex items-center gap-4 px-4 py-2 transition-all duration-300 ease-linear hover:bg-secondaryColor/5">
                                        <span> {{ forloop.counter }}. </span>
                                        <div class="flex flex-col gap-0.5">
                                            {{ student.name }}
                                            <small class="text-sm text-darkColor/50">{{ student.email }}</small>
                                        </div>
                                    </div>
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div title="Add student" 
    class="fixed p-3 bottom-2 right-2 flex items-center justify-center bg-primaryColor rounded-2xl shadow-md text-whiteColor">
        <a href="">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none">
                <path d="M12 4V20M20 12H4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </a>
    </div>
</div>
{% endblock body %}

{# Additional javascript #}
{% block javascript %}
<!-- from cdn -->
<script src="{% static 'core/js/tabs.js' %}"></script>
{% endblock javascript %}