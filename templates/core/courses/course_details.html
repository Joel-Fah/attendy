{% extends 'core/base_app.html' %}
{% load static %}
{% load tailwind_tags %}
{% load custom_date_formatter %}

{# Title of the page #}
{% block title %} {{ course.title }} {% endblock %}

{% block extra_styles %}
{% endblock extra_styles %}

{# Body styles #}
{% block body_styles %}
{% endblock body_styles %}

{# Header of the page #}
{% block header %}
{% include "components/header_app.html" %}
{% endblock header %}

{# Body of the page #}
{% block body %}
<div class="relative p-4 md:ml-64">
    <div class="flex flex-col gap-4 items-start justify-center w-full mt-14">
        <div class="flex flex-col gap-2">
            <small>
                <a href="{% url 'core:courses' level_pk=level.id %}" class="text-secondaryColor">Courses</a> /
            </small>
            <h2 class="text-3xl">
                {{ course.code }} {{ course.title }}
            </h2>
            <small class="w-max text-darkColor flex gap-1 px-2.5 rounded-xl bg-darkColor/5 w-">
                <span class="text-gray-500">Registered on: </span>
                {{ course.created_at|format_date }}
            </small>
        </div>

        <div class="w-full grid grid-cols-12 gap-2">
            <div class="col-span-9 flex flex-col gap-2">
                <div class="relative right-0">
                    <ul class="relative flex flex-wrap p-1 list-none rounded-xl bg-blue-gray-50/60" data-tabs="tabs"
                        role="list">
                        <li class="z-30 w-auto px-2 rounded-xl text-center">
                            <a class="z-30 flex items-center justify-center w-full px-0 py-1 mb-0 transition-all ease-in-out border-0 rounded-lg cursor-pointer bg-inherit"
                                data-tab-target="" active="" role="tab" aria-selected="true" aria-controls="app">
                                <span class="ml-1 flex items-center gap-2">
                                    Course overview
                                </span>
                            </a>
                        </li>
                        <li class="z-30 w-auto px-2 rounded-xl text-center">
                            <a class="z-30 flex items-center justify-center w-full px-0 py-1 mb-0 transition-all ease-in-out border-0 rounded-lg cursor-pointer bg-inherit"
                                data-tab-target="" role="tab" aria-selected="false" aria-controls="message">
                                <span class="ml-1 flex items-center gap-2">
                                    Statistics
                                </span>
                            </a>
                        </li>
                    </ul>
    
                    <div data-tab-content="" class="p-2">
                        <div class="block opacity-100" id="app" role="tabpanel">
                            <ul class="space-y-4">
                                <li class="">
                                    <div class="flex items-center justify-between">
                                        <p class="text-gray-500">Code:</p>
                                        <p class="text-darkColor">{{ course.code }}</p>
                                    </div>
                                </li>
                                <hr class="border-darkColor/10">
                                <li class="">
                                    <div class="flex items-center justify-between">
                                        <p class="text-gray-500">Title:</p>
                                        <p class="text-darkColor">{{ course.title }}</p>
                                    </div>
                                </li>
                                <hr class="border-darkColor/10">
                                <li class="">
                                    <div class="flex items-center justify-between">
                                        <p class="text-gray-500">Lecturer:</p>
                                        <p class="text-darkColor">{{ course.lecturer.name }}</p>
                                    </div>
                                </li>
                                <hr class="border-darkColor/10">
                                <li class="">
                                    <div class="flex items-center justify-between">
                                        <p class="text-gray-500">Semester:</p>
                                        <p class="text-darkColor">{{ level.semester }} {{ level.year}}</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
    
                        <div class="hidden opacity-0" id="message" role="tabpanel">
                              <p class="m-auto py-4 px-8">> Nothing yet to show here...</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class=" flex flex-col gap-6 col-start-10 col-span-3">
                <h3 class="">Course delegates and assistants</h3>
                
                <div class="flex flex-col gap-4">
                    <div class="flex flex-col items-start bg-darkColor/5 rounded-2xl px-4 py-1.5 space-y-2">
                        {% for delegate in delegates %}
                            {% if delegate.student.is_delegate %}
                                <p class="text-darkColor block">{{ delegate.student.name }}</p>
                            {% endif %}
                            {% empty %}
                            <p class="text-danger text-sm block"> No course delegate(s) </p>
                        {% endfor %}
                    </div>

                    <hr class="w-full">

                    <a href=""
                        class="flex items-center p-2 rounded-xl transition-all duration-300 ease-linear text-whiteColor bg-secondaryColor hover:bg-orange-600 group">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none">
                            <path d="M21 11.5C21 7.02166 21 4.78249 19.6088 3.39124C18.2175 2 15.9783 2 11.5 2C7.02166 2 4.78249 2 3.39124 3.39124C2 4.78249 2 7.02166 2 11.5C2 15.9783 2 18.2175 3.39124 19.6088C4.72972 20.9472 6.85301 20.998 11 20.9999" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M2 7H21" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round" />
                            <path d="M10 16H11.5M6 16H7M10 12H16M6 12H7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M21.2633 14.8717C20.3622 13.8651 19.8215 13.925 19.2208 14.1048C18.8003 14.1647 17.3585 15.8422 16.7578 16.3765C15.7714 17.3478 14.7806 18.3479 14.7153 18.4784C14.5285 18.781 14.3548 19.3172 14.2707 19.9163C14.1145 20.815 13.8041 21.7815 14.1746 21.9133C14.3548 22.153 15.2559 21.8335 16.157 21.7017C16.7578 21.5938 17.1783 21.474 17.4787 21.2943C17.8992 21.0426 18.6801 20.1559 20.0258 18.8379C20.8697 17.9521 21.6838 17.34 21.9241 16.7409C22.1644 15.8422 21.804 15.3629 21.2633 14.8717Z" stroke="currentColor" stroke-width="1.5" />
                        </svg>
                        <span class="flex-1 ms-3 whitespace-nowrap">Edit course</span>
                    </a>

                    <a href=""
                        class="flex items-center p-2 rounded-xl transition-all duration-300 ease-linear text-danger hover:text-whiteColor bg-danger/20 hover:bg-red-600 group">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="none">
                            <path d="M19.5 5.5L18.8803 15.5251C18.7219 18.0864 18.6428 19.3671 18.0008 20.2879C17.6833 20.7431 17.2747 21.1273 16.8007 21.416C15.8421 22 14.559 22 11.9927 22C9.42312 22 8.1383 22 7.17905 21.4149C6.7048 21.1257 6.296 20.7408 5.97868 20.2848C5.33688 19.3626 5.25945 18.0801 5.10461 15.5152L4.5 5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M9 11.7349H15" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M10.5 15.6543H13.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            <path d="M3 5.5H21M16.0555 5.5L15.3729 4.09173C14.9194 3.15626 14.6926 2.68852 14.3015 2.39681C14.2148 2.3321 14.1229 2.27454 14.0268 2.2247C13.5937 2 13.0739 2 12.0343 2C10.9686 2 10.4358 2 9.99549 2.23412C9.89791 2.28601 9.80479 2.3459 9.7171 2.41317C9.32145 2.7167 9.10044 3.20155 8.65842 4.17126L8.05273 5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                        </svg>
                        <span class="flex-1 ms-3 whitespace-nowrap">Delete course</span>
                    </a>

                    <small class=" px-2">
                        You are viewing this course as it was lastly edited on 
                        <span class="text-secondaryColor">
                            {{ course.updated_at|format_date }}
                        </span> 
                    </small>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock body %}

{# Additional javascript #}
{% block javascript %}
<!-- from cdn -->
<script src="{% static 'core/js/tabs.js' %}"></script>
{% endblock javascript %}